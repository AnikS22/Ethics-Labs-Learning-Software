# Railway Dockerfile for Ethics Labs LMS
FROM frappe/bench:latest

# Set working directory
WORKDIR /workspace

# Copy entire LMS directory
COPY . /workspace/lms

# Copy init script to workspace root
COPY docker/init.sh /workspace/init.sh

# Make script executable
RUN chmod +x /workspace/init.sh

# Set shell
ENV SHELL=/bin/bash

# Expose ports
EXPOSE 8000 9000

# Start command
CMD ["bash", "/workspace/init.sh"]
